{% extends "tools/object_list.html" %}

{% load bootstrap3 i18n querystring workbench %}

{% block objects %}

<table class="table table-hover table-striped table-linearize">
  <thead>
    <tr>
      <th>{% trans 'invoice' %}</th>
      <th>{% trans 'customer' %}</th>
      <th class="hidden-xs">{% trans 'owned by' %}</th>
      <th>{% trans 'status' %}</th>
      <th>{% trans 'type' %}</th>
      <th class="text-right">{% trans 'total excl. tax' %}</th>
      <th class="text-right">{% trans 'total CHF' %}</th>
    </tr>
  </thead>
  <tbody>
    {% for invoice in object_list %}
      <tr>
        <th><a href="{{ invoice.urls.detail }}">
          {{ invoice|h }}
        </a></th>
        <td>{{ invoice.contact|default:invoice.customer }}</td>
        <td class="hidden-xs">{{ invoice.owned_by.get_short_name }}</td>
        <td><span class="label label-{{ invoice.status_css }}">{{ invoice.pretty_status }}</span></td>
        <td>{{ invoice.get_type_display }}</td>
        <td class="text-right">{{ invoice.total_excl_tax|currency }}</td>
        <td class="text-right">{{ invoice.total|currency }}</td>
      </tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr>
      <td colspan="6">
        {{ paginator.count }} {{ view.meta.verbose_name_plural }}
        {% if view.root_queryset_count != paginator.count %}
        (<a href=".">{% blocktrans with total=view.root_queryset_count %}{{ total }} total{% endblocktrans %}</a>)
        {% endif %}
      </td>
    </tr>
  </tfoot>
</table>

{% endblock %}
